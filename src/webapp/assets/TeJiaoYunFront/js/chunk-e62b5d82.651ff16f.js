(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e62b5d82"],{"14a4":function(t,a,s){"use strict";var i=s("ceda"),e=s.n(i);e.a},3699:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticStyle:{background:"#fafafa"}},[s("div",{attrs:{id:"productDetails"}},[s("div",{staticClass:"product-info"},[s("div",{staticClass:"goodDetails_name_img"},[s("div",{staticClass:"imgDetail"},[s("el-image",{attrs:{src:t.imgUrl,width:"56"}})],1),s("div",{staticClass:"little_img"},[t._l(t.imglist,function(a,i){return[i<5?s("el-image",{key:a+i,class:t.imgIndex===i?"selects":"defeault",attrs:{src:a,width:"56"},on:{click:function(a){return t.tabIndexImage(i,a)}}}):t._e()]})],2)]),s("div",{staticClass:"goodDetails_font_info"},[s("div",{staticClass:"title"},[s("div",{staticStyle:{display:"flex"}},[s("span",{staticClass:"title-ico"},[t._v("特教云自营")]),s("span",{staticClass:"title-name"},[t._v(t._s(t.product_name))])]),s("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"flex-end"}},[[s("i",{staticClass:"iconfont icon-shoucang",style:{color:!0===t.fav?"orange":"#ddd"}}),t.hastoken?s("span",{staticClass:"favs",on:{click:t.setFav}},[t._v("收藏商品")]):s("el-tooltip",{staticClass:"item",attrs:{content:"请先登录再操作",placement:"top"}},[s("span",{staticClass:"favs"},[t._v("收藏商品")])])]],2)]),s("span",{staticClass:"goodDetails_desc"},[t._v(t._s(t.product_desc))]),s("div",{staticClass:"goodDetails_price"},[s("span",{staticClass:"wid82"},[t._v("价格:")]),s("span",{staticStyle:{"font-size":"24px",color:"#D51806"}},[s("span",{staticStyle:{"font-size":"20px","padding-right":"5px"}},[t._v("¥")]),t._v(t._s(t.product_price))])]),t._m(0),t._m(1),s("div",{staticClass:"goodDetails_",staticStyle:{"align-items":"center"}},[s("span",{staticClass:"wid82"},[t._v("数量:")]),s("div",[s("el-input-number",{attrs:{size:"small",min:t.minNum,max:Number(t.product_stocknum)},model:{value:t.num,callback:function(a){t.num=a},expression:"num"}}),t._v(" 个（库存"+t._s(t.stocknum)+"个）\n          ")],1)]),s("div",{staticClass:"goodDetails_",staticStyle:{"margin-top":"50px"}},[s("span",{staticClass:"wid82"}),s("div",[s("el-button",{attrs:{disabled:0===t.num,type:"primary"},on:{click:function(a){return t.buyNow()}}},[t._v("立即购买")]),s("el-button",{staticStyle:{"margin-left":"36px"},attrs:{disabled:0===t.num},on:{click:function(a){return t.addCar(t.num)}}},[t._v("加入购物车")])],1)])]),s("div",{staticClass:"goodDetails_t"},[t._m(2),t._l(t.product_related,function(a,i){return s("div",{key:a+i,staticClass:"goodDetails_t_items",on:{click:function(s){return t.recommend(a.product_id)}}},[s("div",{staticClass:"item-img"},[s("img",{attrs:{src:a.product_img,alt:""}})]),s("div",{staticClass:"item-price"},[t._v("\n            ¥ "+t._s(a.product_price)+"\n          ")])])})],2)]),s("div",{staticClass:"product-detail"},[t._m(3),s("div",{attrs:{id:"HTML_desc"},domProps:{innerHTML:t._s(t.product_detail)}})])])])},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"goodDetails_"},[s("span",{staticClass:"wid82"},[t._v("配送方式:")]),s("span",[t._v("快递")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"goodDetails_"},[s("span",{staticClass:"wid82"},[t._v("运费:")]),s("span",[t._v("包邮")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"first"},[s("div",{staticClass:"fir-"}),s("span",[t._v("相关推荐")]),s("div",{staticClass:"fir-"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticStyle:{"border-bottom":"1px solid #ddd"}},[s("div",{staticClass:"product-detail-tab"},[t._v("商品详情")])])}],c=s("a78e"),o=s.n(c),n={name:"intelligenceDetails",data:function(){return{imglist:[],imgUrl:"",imgIndex:0,product_name:"",fav:!1,product_desc:"",product_price:"",minNum:1,num:1,product_stocknum:"",product_related:[],product_detail:""}},computed:{hastoken:{get:function(){return this.$store.state.token}},stocknum:function(){return this.product_stocknum-this.num},swiper:function(){return this.$refs.mySwiper.swiper}},created:function(){var t=this;this.tjy.Get("front/frontproductdetali/?product_id=".concat(this.$route.params.id)).then(function(a){var s=[a.data.product_images,a.data.product_images[0],a.data.product_name,a.data.product_desc,a.data.product_price,a.data.product_stocknum,a.data.product_related,a.data.product_detail];t.imglist=s[0],t.imgUrl=s[1],t.product_name=s[2],t.product_desc=s[3],t.product_price=s[4],t.product_stocknum=s[5],t.product_related=s[6],t.product_detail=s[7]}).then(function(){t.getFav()})},watch:{"$route.params.id":function(t){var a=this;this.tjy.Get("front/frontproductdetali/?product_id=".concat(t)).then(function(t){var s=[t.data.product_images,t.data.product_images[0],t.data.product_name,t.data.product_desc,t.data.product_price,t.data.product_stocknum,t.data.product_related,t.data.product_detail];a.imglist=s[0],a.imgUrl=s[1],a.product_name=s[2],a.product_desc=s[3],a.product_price=s[4],a.product_stocknum=s[5],a.product_related=s[6],a.product_detail=s[7]}).then(function(){a.getFav()})},coursepackage_id:function(t){this.checkpackages(),this.check_years=[]}},methods:{recommend:function(t){this.$router.push("/product/details/".concat(t))},addCar:function(t){var a=this;this.$store.state.token?(this.tjy.hasToken(),this.tjy.Post("front/frontproductshoppingcar/",{product_id:this.$route.params.id,num:t}).then(function(t){a.tjy.hasToken(1),201===t.status&&(a.$message.success("添加购物车成功"),a.num=0)})):this.$router.push("/account")},tabIndexImage:function(t,a){this.imgUrl=this.imglist[t],this.imgIndex=t},checkpackages:function(){var t=this;this.tjy.Get("front/frontiledudetail/?course_id=".concat(this.$route.params.id,"&coursepackage_id=").concat(this.coursepackage_id)).then(function(a){var s=[a.data.course_info,a.data.coursepackage_detail,a.data.coursepackage_list];t.course_info=s[0],t.coursepackage_detail=s[1],t.coursepackage_list=s[2]}).then(function(){t.coursepackage_id=t.coursepackage_detail.coursepackage_id,t.getFav()})},freeLook:function(){var t=this;this.tjy.hasToken(),this.tjy.Post("front/frontbookuse/",{course_id:this.$route.params.id}).then(function(a){200===a.status&&(a.data.book_use?(o.a.set("course_id",t.$route.params.id),window.open(a.data.course_teacheaddress+"/index.html","_blank")):t.$message.error("试看时间已过")),t.tjy.hasToken(1)})},getFav:function(){var t=this;this.tjy.hasToken(),this.tjy.Get("front/frontuserfavproduct/?product_id=".concat(this.$route.params.id)).then(function(a){200===a.status&&(t.fav=a.data.isfav,t.tjy.hasToken(1))})},buyNow:function(){var t=this;this.$store.state.token?this.num>0?(this.tjy.hasToken(),this.tjy.Post("front/frontproductbuynowconfirm/",{product_id_nums:[{product_id:this.$route.params.id,product_num:this.num}]}).then(function(a){t.tjy.hasToken(1),201===a.status&&t.$router.push("/product_buy/".concat(a.data.guid))})):(this.$message.error("数量选择错误"),this.num=0):this.$router.push("/account")},setFav:function(){var t=this;this.tjy.hasToken(),this.tjy.Post("front/frontuserfavproduct/",{product_id:this.$route.params.id,dofav:!this.fav}).then(function(a){201===a.status&&a.data.dofav?t.$message.success("收藏成功"):t.$message.error("取消收藏"),t.fav=a.data.dofav,t.tjy.hasToken(1)})}}},r=n,d=(s("14a4"),s("84dd"),s("2877")),u=Object(d["a"])(r,i,e,!1,null,"7e460d4c",null);a["default"]=u.exports},"84dd":function(t,a,s){"use strict";var i=s("e55d"),e=s.n(i);e.a},ceda:function(t,a,s){},e55d:function(t,a,s){}}]);