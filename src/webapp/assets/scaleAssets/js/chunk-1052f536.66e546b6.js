(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1052f536"],{"0919":function(e,t,a){"use strict";var s=a("11d4"),n=a.n(s);n.a},"0d6d":function(e,t,a){var s=a("d3f4"),n=a("67ab").onFreeze;a("5eda")("freeze",(function(e){return function(t){return e&&s(t)?e(n(t)):t}}))},"11d4":function(e,t,a){},"26c9":function(e,t,a){},"2c8d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"main-container"}},[a("el-container",{attrs:{id:"editor_03"}},[a("Theader"),e._v(" "),a("el-main",[a("Back"),e._v(" "),a("div",{attrs:{id:"main-filter"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:"",model:e.filterTableData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"评估表编号:"}},[a("el-input",{attrs:{size:"medium",readonly:!0},model:{value:e.form.evano,callback:function(t){e.$set(e.form,"evano",t)},expression:"form.evano"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"儿童编号:"}},[a("el-input",{attrs:{size:"medium",readonly:!0},model:{value:e.form.scale03evaperson_info.personno,callback:function(t){e.$set(e.form.scale03evaperson_info,"personno",t)},expression:"form.scale03evaperson_info.personno"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄:"}},[a("el-input",{attrs:{size:"medium",readonly:!0},model:{value:e.form.monthrange,callback:function(t){e.$set(e.form,"monthrange",t)},expression:"form.monthrange"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"儿童姓名:"}},[a("el-input",{attrs:{size:"medium",readonly:!0},model:{value:e.form.scale03evaperson_info.name,callback:function(t){e.$set(e.form.scale03evaperson_info,"name",t)},expression:"form.scale03evaperson_info.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别:"}},[a("el-input",{attrs:{size:"medium",readonly:!0},model:{value:e.form.scale03evaperson_info.sex,callback:function(t){e.$set(e.form.scale03evaperson_info,"sex",t)},expression:"form.scale03evaperson_info.sex"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出生日期:"}},[a("el-input",{attrs:{size:"medium",readonly:!0},model:{value:e.form.scale03evaperson_info.birthday,callback:function(t){e.$set(e.form.scale03evaperson_info,"birthday",t)},expression:"form.scale03evaperson_info.birthday"}})],1)],1),e._v(" "),a("div",{staticClass:"button-group"},[a("el-button",{attrs:{size:"medium"},on:{click:e.exitForm}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{size:"medium"},on:{click:e.goBack}},[e._v("返回")]),e._v(" "),a("el-button",{attrs:{size:"medium"},on:{click:e.printpage}},[e._v("报表")])],1)],1),e._v(" "),a("div",{staticClass:"tabs-03"},[a("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.tabsList,(function(t,s){return a("el-tab-pane",{key:t.label+t.name+s,attrs:{label:t.label,name:t.name}},[t.name===e.activeName?a("div",[a("table",[a("thead",[a("tr",[a("td"),e._v(" "),a("td",[e._v("项目")]),e._v(" "),a("td",[e._v("儿童表现记录")]),e._v(" "),a("td"),e._v(" "),a("td",[a("div",e._l(e.tableHeader,(function(t){return a("span",{key:e.activeName+"_"+t},[e._v(e._s(t))])})),0)])])]),e._v(" "),a("tbody",[e._l(e.form.evajson.eva2to16["page_"+e.activeName],(function(t){return[a("tr",[a("td"),e._v(" "),a("td",[e._v(e._s(t.categoryname))])]),e._v(" "),e._l(t.eva_subjects,(function(t){return a("tr",{key:t.evasub_id+"table_body_subject"},[a("td",[e._v(e._s(t.evasub_id))]),e._v(" "),a("td",[e._v(e._s(t.evasub_name))]),e._v(" "),a("td",[a("div",{domProps:{innerHTML:e._s(t.evasub_content)}})]),e._v(" "),a("td",[e._v(e._s(t.evasub_id))]),e._v(" "),a("td",[a("div",{staticClass:"inputList"},e._l(10,(function(s){return a("span",{key:"inputList_"+s},[s-1===t.evasub_activateindex?a("el-input",{attrs:{size:"mini",maxlength:"1"},nativeOn:{keyup:function(a){return e.inputBlur(t.evasub_score,t.evasub_id)}},model:{value:t.evasub_score,callback:function(a){e.$set(t,"evasub_score",a)},expression:"table_body_subject.evasub_score"}}):e._e()],1)})),0)])])}))]}))],2)])]):e._e()])})),e._v(" "),a("el-tab-pane",{attrs:{label:"儿童照顾者报告评分表",name:"17"}},[a("div",{staticClass:"collect_17"},[a("h3",[e._v("儿童照顾者报告评分表")]),e._v(" "),a("div",{staticClass:"collect_17-contents"},[a("div",{staticClass:"content-col"},[a("h4",[e._v("问题行为")]),e._v(" "),a("div",{staticClass:"content-col-desc"},[a("p",[e._v("没有出现问题=2")]),e._v(" "),a("p",[e._v("轻微/中度=1")]),e._v(" "),a("p",[e._v("严重问题=0")])])]),e._v(" "),a("div",{staticClass:"content-col"},[a("h4",[e._v("个人自理")]),e._v(" "),a("div",{staticClass:"content-col-desc"},[a("p",[e._v("第一行=2")]),e._v(" "),a("p",[e._v("第二行=1")]),e._v(" "),a("p",[e._v("第三行=0")])])]),e._v(" "),a("div",{staticClass:"content-col"},[a("h4",[e._v("适应行为")]),e._v(" "),a("div",{staticClass:"content-col-desc"},[a("p",[e._v("第一行=2")]),e._v(" "),a("p",[e._v("第二行=1")]),e._v(" "),a("p",[e._v("第三行=0")])])])]),e._v(" "),a("div",{staticClass:"collect_17-value"},[a("div",{staticClass:"content-col"},e._l(e.form.evajson.evalast.PB,(function(t,s){return a("p",{key:"PB_"+s},[e._v("\n                    "+e._s(s+1)+".\n                    "),a("span",[a("el-input",{attrs:{size:"mini",maxlength:"1"},nativeOn:{keyup:function(t){return e.changeValue(s,e.form.evajson.evalast.PB[s],"PB")}},model:{value:e.form.evajson.evalast.PB[s],callback:function(t){e.$set(e.form.evajson.evalast.PB,s,t)},expression:"form.evajson.evalast.PB[index]"}})],1)])})),0),e._v(" "),a("div",{staticClass:"content-col"},e._l(e.form.evajson.evalast.PSC,(function(t,s){return a("p",{key:"PSC_"+s},[e._v("\n                    "+e._s(s+1)+".\n                    "),a("span",[a("el-input",{attrs:{size:"mini",maxlength:"1"},nativeOn:{keyup:function(a){return e.changeValue(s,t,"PSC")}},model:{value:e.form.evajson.evalast.PSC[s],callback:function(t){e.$set(e.form.evajson.evalast.PSC,s,t)},expression:"form.evajson.evalast.PSC[index]"}})],1)])})),0),e._v(" "),a("div",{staticClass:"content-col"},e._l(e.form.evajson.evalast.AB,(function(t,s){return a("p",{key:"AB_"+s},[e._v("\n                    "+e._s(s+1)+".\n                    "),a("span",[a("el-input",{attrs:{size:"mini",maxlength:"1"},nativeOn:{keyup:function(t){return e.changeValue(s,e.form.evajson.evalast.AB[s],"AB")}},model:{value:e.form.evajson.evalast.AB[s],callback:function(t){e.$set(e.form.evajson.evalast.AB,s,t)},expression:"form.evajson.evalast.AB[index]"}})],1)])})),0)]),e._v(" "),a("div",{staticClass:"collect_17-value-sum"},[a("div",{staticClass:"content-col"},[a("p",[a("span",[e._v(e._s(e.PBValue))])])]),e._v(" "),a("div",{staticClass:"content-col"},[a("p",[a("span",[e._v(e._s(e.PSCValue))])])]),e._v(" "),a("div",{staticClass:"content-col"},[a("p",[a("span",[e._v(e._s(e.ABValue))])])])])])])],2)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.activeName<17,expression:"activeName<17"}],staticClass:"tabs-03-statistics"},[a("table",{attrs:{cellspacing:"0",cellpadding:"0"}},[a("thead",[a("tr",[a("td"),e._v(" "),a("td",[a("div",e._l(e.tableHeader,(function(t){return a("span",{key:e.activeName+"_"+t},[e._v(e._s(t))])})),0)])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("第"+e._s(e.activeName)+"页总和")]),e._v(" "),a("td",[a("div",{staticClass:"collect"},e._l(e.scoreStatistics.scope_all,(function(t,s){return a("span",{key:"all_"+t+s},[e._v(e._s(""===t?" ":t))])})),0)])]),e._v(" "),a("tr",[a("td",[e._v("（2）通过/恰当")]),e._v(" "),a("td",[a("div",{staticClass:"collect"},e._l(e.scoreStatistics.scope_2,(function(t,s){return a("span",{key:"score_2_"+t+s},[e._v(e._s(""===t?" ":t))])})),0)])]),e._v(" "),a("tr",[a("td",[e._v("（1）部分通过/轻微")]),e._v(" "),a("td",[a("div",{staticClass:"collect"},e._l(e.scoreStatistics.scope_1,(function(t,s){return a("span",{key:"score_1_"+t+s},[e._v(e._s(""===t?" ":t))])})),0)])]),e._v(" "),a("tr",[a("td",[e._v("（0）未能通过/严重")]),e._v(" "),a("td",[a("div",{staticClass:"collect"},e._l(e.scoreStatistics.scope_0,(function(t,s){return a("span",{key:"score_0_"+t+s},[e._v(e._s(""===t?" ":t))])})),0)])])])])])],1),e._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"target",staticClass:"target",attrs:{href:"",target:"_blank"}}),e._v(" "),a("el-footer")],1)],1)},n=[],i=(a("ac4d"),a("8a81"),a("456d"),a("a481"),a("0d6d"),a("20d6"),a("ac6a"),a("c5f6"),a("6c7b"),a("6c3d")),o=a("3f4f"),r=a("ed08"),c=a("3733"),l={components:{Theader:i["a"],Back:c["a"]},props:["id"],data:function(){return{params:this.id,filterTableData:{},url:"scale03/scale03evaresult/",activeName:"2",form:{scale03evaperson_info:{birthday:"",name:"",personno:"",sex:""},monthrange:"",evajson:{eva2to16:{},evalast:{AB:new Array(15).fill(""),PB:new Array(10).fill(""),PSC:new Array(13).fill("")}}},tableHeader:["CVP","EL","RL","FM","GM","VMI","AE","SR","CMB","CVB"],tabsList:[{label:"第二页",name:"2"},{label:"第三页",name:"3"},{label:"第四页",name:"4"},{label:"第五页",name:"5"},{label:"第六页",name:"6"},{label:"第七页",name:"7"},{label:"第八页",name:"8"},{label:"第九页",name:"9"},{label:"第十页",name:"10"},{label:"第十一页",name:"11"},{label:"第十二页",name:"12"},{label:"第十三页",name:"13"},{label:"第十四页",name:"14"},{label:"第十五页",name:"15"},{label:"第十六页",name:"16"}],score:["","0","1","2"],scoreChangeState:!0,scoreStatistics:{scope_all:new Array(10).fill(""),scope_2:new Array(10).fill(""),scope_1:new Array(10).fill(""),scope_0:new Array(10).fill("")}}},computed:{ABValue:function(){return this.form.evajson.evalast.AB.reduce((function(e,t){return Number(e)+Number(t)}))},PBValue:function(){return this.form.evajson.evalast.PB.reduce((function(e,t){return Number(e)+Number(t)}))},PSCValue:function(){return this.form.evajson.evalast.PSC.reduce((function(e,t){return Number(e)+Number(t)}))}},watch:{"form.evajson.eva2to16":{handler:function(e){var t=this;this.activeName<17&&e["page_"+this.activeName].forEach((function(e){t.scoreStatistics={scope_all:new Array(10).fill(""),scope_2:new Array(10).fill(""),scope_1:new Array(10).fill(""),scope_0:new Array(10).fill("")},e.eva_subjects.forEach((function(e){""!==e.evasub_score&&(t.scoreStatistics.scope_all[e.evasub_activateindex]=String(Number(e.evasub_score)+Number(t.scoreStatistics.scope_all[e.evasub_activateindex]))),"0"===e.evasub_score&&(t.scoreStatistics.scope_0[e.evasub_activateindex]=++t.scoreStatistics.scope_0[e.evasub_activateindex]),"1"===e.evasub_score&&(t.scoreStatistics.scope_1[e.evasub_activateindex]=++t.scoreStatistics.scope_1[e.evasub_activateindex]),"2"===e.evasub_score&&(t.scoreStatistics.scope_2[e.evasub_activateindex]=++t.scoreStatistics.scope_2[e.evasub_activateindex])}))}))},deep:!0},activeName:function(e){var t=this;this.scoreStatistics={scope_all:new Array(10).fill(""),scope_2:new Array(10).fill(""),scope_1:new Array(10).fill(""),scope_0:new Array(10).fill("")},e<17&&this.form.evajson.eva2to16["page_"+e].forEach((function(e){e.eva_subjects.forEach((function(e){""!==e.evasub_score&&(t.scoreStatistics.scope_all[e.evasub_activateindex]=String(Number(e.evasub_score)+Number(t.scoreStatistics.scope_all[e.evasub_activateindex]))),"0"===e.evasub_score&&(t.scoreStatistics.scope_0[e.evasub_activateindex]=++t.scoreStatistics.scope_0[e.evasub_activateindex]),"1"===e.evasub_score&&(t.scoreStatistics.scope_1[e.evasub_activateindex]=++t.scoreStatistics.scope_1[e.evasub_activateindex]),"2"===e.evasub_score&&(t.scoreStatistics.scope_2[e.evasub_activateindex]=++t.scoreStatistics.scope_2[e.evasub_activateindex])}))}))}},created:function(){this.init()},beforeDestroy:function(){this.form=null},methods:{changeValue:function(e,t,a){this.$set(this.form.evajson.evalast[a],this.form.evajson.evalast[a]);var s=this.score.findIndex((function(e){return e===t}));s<0&&(Object(r["a"])("只能输入0,1,2"),this.form.evajson.evalast[a].splice(e,1,""))},init:function(){var e=this;Object(o["a"])(this.url,"get",{action:"retrieve",id:this.id}).then((function(t){e.form.evajson=t.evajson,e.form.scale03evaperson_info=Object.freeze(t.scale03evaperson_info),e.form.evano=Object.freeze(t.evano),e.form.monthrange=Object.freeze(t.monthrange),e.form.scale03evaperson_id=Object.freeze(t.scale03evaperson_id)}))},inputBlur:function(e,t){var a=this;this.scoreChangeState=!1;var s=this.score.findIndex((function(t){return t===e}));s<0?(Object(r["a"])("只能输入0,1,2"),this.form.evajson.eva2to16["page_"+this.activeName].forEach((function(e){e.eva_subjects.forEach((function(e){e.evasub_id===t&&(e.evasub_score="",a.scoreChangeState=!0)}))}))):this.scoreChangeState=!0},goBack:function(){this.$router.replace({name:"scale_03scale_list_eva"})},exitForm:function(){for(var e=this,t=[],a=Object.keys(this.form.evajson.eva2to16),s=0,n=a;s<n.length;s++){var i=n[s],c=!0,l=!1,v=void 0;try{for(var u,_=this.form.evajson.eva2to16[i][Symbol.iterator]();!(c=(u=_.next()).done);c=!0){var f=u.value;f.eva_subjects.forEach((function(e){t.push(e)}))}}catch(d){l=!0,v=d}finally{try{c||null==_.return||_.return()}finally{if(l)throw v}}}Object(o["a"])(this.url,"post",{},{action:"save",evano:this.form.evano,scale03evaperson_id:this.form.scale03evaperson_id,monthrange:this.form.monthrange,evajson:{eva2to16:t,evalast:this.form.evajson.evalast}}).then((function(t){e.form.evano=Object.freeze(t.evano),Object(r["a"])("保存成功,点击确定返回列表页",(function(){e.$router.replace({name:"scale_03scale_list_eva"})}))}))},printpage:function(){var e=this.$refs.target;e.setAttribute("href",window.location.origin+"#/print/scale_03scale/".concat(this.form.evano)),e.click()}}},v=l,u=(a("0919"),a("d47a"),a("3ed8f"),a("a459"),a("2877")),_=Object(u["a"])(v,s,n,!1,null,"812ab680",null);t["default"]=_.exports},"36bd":function(e,t,a){"use strict";var s=a("4bf8"),n=a("77f1"),i=a("9def");e.exports=function(e){var t=s(this),a=i(t.length),o=arguments.length,r=n(o>1?arguments[1]:void 0,a),c=o>2?arguments[2]:void 0,l=void 0===c?a:n(c,a);while(l>r)t[r++]=e;return t}},3733:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-divider",{attrs:{"content-position":"left"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回上一页")])],1)},n=[],i=a("2877"),o={},r=Object(i["a"])(o,s,n,!1,null,null,null);t["a"]=r.exports},"3ed8f":function(e,t,a){"use strict";var s=a("85f5"),n=a.n(s);n.a},"3f4f":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a("b775"),n=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(s["a"])({url:e,method:t,params:a,data:n})}},"45a5":function(e,t,a){},"6c3d":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-header",[a("el-header",[a("div",{attrs:{id:"main-title"}},[a("span",[e._v(e._s(e.$route.meta.title))])])])],1)},n=[],i=a("2877"),o={},r=Object(i["a"])(o,s,n,!1,null,null,null);t["a"]=r.exports},"6c7b":function(e,t,a){var s=a("5ca1");s(s.P,"Array",{fill:a("36bd")}),a("9c6c")("fill")},"85f5":function(e,t,a){},a459:function(e,t,a){"use strict";var s=a("45a5"),n=a.n(s);n.a},d47a:function(e,t,a){"use strict";var s=a("26c9"),n=a.n(s);n.a}}]);