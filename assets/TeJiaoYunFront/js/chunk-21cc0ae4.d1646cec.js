(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21cc0ae4"],{"02f4":function(t,e,i){var s=i("4588"),a=i("be13");t.exports=function(t){return function(e,i){var n,c,r=String(a(e)),o=s(i),d=r.length;return o<0||o>=d?t?"":void 0:(n=r.charCodeAt(o),n<55296||n>56319||o+1===d||(c=r.charCodeAt(o+1))<56320||c>57343?t?r.charAt(o):n:t?r.slice(o,o+2):c-56320+(n-55296<<10)+65536)}}},"0390":function(t,e,i){"use strict";var s=i("02f4")(!0);t.exports=function(t,e,i){return e+(i?s(t,e).length:1)}},"0fe9":function(t,e,i){"use strict";var s=i("6591"),a=i.n(s);a.a},4917:function(t,e,i){"use strict";var s=i("cb7c"),a=i("9def"),n=i("0390"),c=i("5f1b");i("214f")("match",1,function(t,e,i,r){return[function(i){var s=t(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,s):new RegExp(i)[e](String(s))},function(t){var e=r(i,t,this);if(e.done)return e.value;var o=s(t),d=String(this);if(!o.global)return c(o,d);var l=o.unicode;o.lastIndex=0;var u,v=[],h=0;while(null!==(u=c(o,d))){var f=String(u[0]);v[h]=f,""===f&&(o.lastIndex=n(d,a(o.lastIndex),l)),h++}return 0===h?null:v}]})},"5d58":function(t,e,i){t.exports=i("d8d6")},6591:function(t,e,i){},"67bb":function(t,e,i){t.exports=i("f921")},"75e2":function(t,e,i){},7618:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var s=i("5d58"),a=i.n(s),n=i("67bb"),c=i.n(n);function r(t){return r="function"===typeof c.a&&"symbol"===typeof a.a?function(t){return typeof t}:function(t){return t&&"function"===typeof c.a&&t.constructor===c.a&&t!==c.a.prototype?"symbol":typeof t},r(t)}function o(t){return o="function"===typeof c.a&&"symbol"===r(a.a)?function(t){return r(t)}:function(t){return t&&"function"===typeof c.a&&t.constructor===c.a&&t!==c.a.prototype?"symbol":r(t)},o(t)}},"866e":function(t,e,i){"use strict";var s=i("e233"),a=i.n(s);a.a},"945a":function(t,e,i){"use strict";var s=i("75e2"),a=i.n(s);a.a},b934:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"buy_package"}},[i("div",{staticClass:"confirm-order"},[i("span",[t._v("选择收货地址")]),i("div"),t.addr.length<=2?i("span",{staticClass:"add_addr",on:{click:t.add_addr}},[t._v("+添加收货地址")]):t._e()]),i("div",{staticClass:"address"},t._l(t.addr,function(e,s){return i("div",{key:e+s,class:s===Number(t.addactive)?"address-item add-actives":"address-item add-default",on:{click:function(e){return t.selectAddr(s)}}},[i("div",{staticClass:"add-name"},[t._v(t._s(e.receiver_name)+"    收")]),i("div",{staticClass:"add-add"},[t._v(t._s(e.address))]),i("div",{staticClass:"add-tel"},[t._v(t._s(e.receiver_mobile))])])}),0),t._m(0),i("div",{staticClass:"confirm-list"},[t._m(1),i("div",{staticClass:"list"},t._l(t.list,function(e){return i("div",{key:e.product_id,staticClass:"items"},[i("div",{staticClass:"col360 item-img"},[i("div",[i("img",{staticStyle:{width:"80px"},attrs:{src:e.product_img,alt:""}})]),i("span",[t._v(t._s(e.product_name))])]),i("div",{staticClass:"col280"},[i("span",[t._v("¥ "+t._s(e.product_price))])]),i("div",{staticClass:"col280",staticStyle:{display:"flex","flex-direction":"column"}},[i("span",[t._v(t._s(e.product_num))])]),i("div",{staticClass:"col280"},[i("span",{staticStyle:{color:"#D51806","font-weight":"bold"}},[t._v("¥ "+t._s(e.consumemoney))])])])}),0),i("div",{staticClass:"item-confirm"},[t._m(2),i("div",[i("span",{staticStyle:{"font-size":"14px"}},[t._v("应付金额:")]),i("span",{staticStyle:{color:"#D51806","font-weight":"bold","font-size":"20px",margin:"0 30px"}},[t._v("¥ "+t._s(t.totalmoney))]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit_order()}}},[t._v("提交订单")])],1)])]),i("el-dialog",{attrs:{title:"新增收货地址",visible:t.centerDialogVisible,width:"962px",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[i("div",{staticClass:"addAddress_indo"},[i("div",{staticClass:"form_items"},[i("div",{staticClass:"form_address_title"},[t._v("地址信息:")]),i("div",{staticClass:"form_address_content"},[i("el-select",{staticStyle:{width:"100%","margin-right":"10px"},attrs:{placeholder:"省级地区"},on:{change:t.choseProvince},model:{value:t.sheng,callback:function(e){t.sheng=e},expression:"sheng"}},t._l(t.province,function(t){return i("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})}),1),i("el-select",{staticStyle:{width:"100%","margin-right":"10px"},attrs:{placeholder:"市级地区"},on:{change:t.choseCity},model:{value:t.shi,callback:function(e){t.shi=e},expression:"shi"}},t._l(t.shi1,function(t){return i("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})}),1),i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"区级地区"},on:{change:t.choseBlock},model:{value:t.qu,callback:function(e){t.qu=e},expression:"qu"}},t._l(t.qu1,function(t){return i("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})}),1)],1)]),i("div",{staticClass:"form_items"},[i("div",{staticClass:"form_address_title"},[t._v("详细信息:")]),i("div",{staticClass:"form_address_content"},[i("el-input",{staticStyle:{width:"50%"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:5},placeholder:"请输入内容"},model:{value:t.addrs,callback:function(e){t.addrs=e},expression:"addrs"}})],1)]),i("div",{staticClass:"form_items"},[i("div",{staticClass:"form_address_title"},[t._v("邮政编码:")]),i("div",{staticClass:"form_address_content"},[i("el-input",{staticStyle:{width:"50%"},attrs:{type:"text"},model:{value:t.postalcode,callback:function(e){t.postalcode=e},expression:"postalcode"}})],1)]),i("div",{staticClass:"form_items"},[i("div",{staticClass:"form_address_title"},[t._v("收货人姓名:")]),i("div",{staticClass:"form_address_content"},[i("el-input",{staticStyle:{width:"50%"},attrs:{type:"text"},model:{value:t.receiver_name,callback:function(e){t.receiver_name=e},expression:"receiver_name"}})],1)]),i("div",{staticClass:"form_items"},[i("div",{staticClass:"form_address_title"},[t._v("联系电话:")]),i("div",{staticClass:"form_address_content"},[i("el-input",{staticStyle:{width:"50%"},attrs:{type:"text"},model:{value:t.receiver_mobile,callback:function(e){t.receiver_mobile=e},expression:"receiver_mobile"}})],1)]),i("div",{staticClass:"form_items"},[i("div",{staticClass:"form_address_title"}),i("div",{staticClass:"form_address_content"},[i("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("设为默认地址")])],1)]),i("div",{staticClass:"form_items"},[i("div",{staticClass:"form_address_title"}),i("div",{staticClass:"form_address_content"})])]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.add_Address}},[t._v("确 定")])],1)])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"confirm-order"},[i("span",[t._v("确认订单信息")]),i("div")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("span",{staticClass:"col360"},[t._v("商品信息")]),i("span",{staticClass:"col280"},[t._v("单价")]),i("span",{staticClass:"col280"},[t._v("数量")]),i("span",{staticClass:"col280"},[t._v("金额")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticStyle:{"font-size":"14px"}},[i("span",[t._v("配送方式:")]),t._v("快递     "),i("span",[t._v("运费:")]),t._v("包邮")])}],n=(i("7618"),i("4917"),{data:function(){return{list:[],totalmoney:"",addr:[],addactive:0,centerDialogVisible:!1,province:[],sendprovince:null,sendcity:null,senddistrict:null,sheng:null,shi:null,shi1:[],qu:null,qu1:[],city:null,block:null,data:"",textarea:"",youzhengbianma:"",checked:!0,receiver_mobile:"",receiver_name:"",postalcode:"",addrs:""}},methods:{init:function(){var t=this;this.tjy.hasToken(),this.tjy.Get("front/frontproductbuynowconfirm/?guid=".concat(this.$route.params.id)).then(function(e){200===e.status&&(t.list=e.data.product_info,t.totalmoney=e.data.totalmoney),t.tjy.hasToken(1)}).then(function(){t.tjy.hasToken(),t.tjy.Get("foreuserreceiveaddress/").then(function(e){for(var i in t.tjy.hasToken(1),t.addr=e.data,e.data)e.data[i].isdefault&&(t.addactive=i)})}).then(function(){})},add_addr:function(){this.getCityData(),this.centerDialogVisible=!0},getCityData:function(){var t=this;this.tjy.hasToken(),t.tjy.Get("/map_json/").then(function(e){if(200===e.status){for(var i in t.data=e.data,t.province=[],t.city=[],t.block=[],t.data)i.match(/0000$/)?t.province.push({id:i,value:t.data[i],children:[]}):i.match(/00$/)?t.city.push({id:i,value:t.data[i],children:[]}):t.block.push({id:i,value:t.data[i]});for(var s in t.province)for(var a in t.city)t.province[s].id.slice(0,2)===t.city[a].id.slice(0,2)&&t.province[s].children.push(t.city[a]);for(var n in t.city)for(var c in t.block)t.block[c].id.slice(0,4)===t.city[n].id.slice(0,4)&&t.city[n].children.push(t.block[c])}}).catch(function(t){})},add_Address:function(){var t=this;this.tjy.hasToken(),this.tjy.Post("foreuserreceiveaddress/",{province:this.sendprovince,city:this.sendcity,county:this.senddistrict,addr:this.addrs,postalcode:this.postalcode,receiver_name:this.receiver_name,receiver_mobile:this.receiver_mobile,isdefault:this.checked}).then(function(e){t.tjy.hasToken(1),201===e.status&&(t.init(),t.$message.success("添加成功"),t.sendprovince="",t.sendcity="",t.senddistrict="",t.addrs="",t.postalcode="",t.receiver_name="",t.receiver_mobile="",t.checked=!0,t.sheng="",t.shi="",t.qu="",t.centerDialogVisible=!1,t.init())})},choseProvince:function(t){for(var e in this.province)t===this.province[e].id&&(this.sendprovince=this.province[e].value,this.sendcity=this.province[e].children[0].value,this.senddistrict=this.province[e].children[0].children[0].value,this.shi1=this.province[e].children,this.shi=this.province[e].children[0].value,this.qu1=this.province[e].children[0].children,this.qu=this.province[e].children[0].children[0].value,this.E=this.qu1[0].id)},choseCity:function(t){for(var e in this.city)t===this.city[e].id&&(this.sendcity=this.city[e].value,this.senddistrict=this.city[e].children[0].value,this.qu1=this.city[e].children,this.qu=this.city[e].children[0].value,this.E=this.qu1[0].id)},choseBlock:function(t){for(var e in this.qu1)t===this.qu1[e].id&&(this.senddistrict=this.qu1[e].value,this.E=this.qu1[0].id);this.E=t},selectAddr:function(t){this.addactive=t},submit_order:function(){var t=this;this.tjy.hasToken(),JSON.parse(localStorage.getItem("ids"))&&JSON.parse(localStorage.getItem("ids")).length>0&&this.tjy.Delete("front/frontshoppingcarbatdelete/",{ids:JSON.parse(localStorage.getItem("ids"))}).then(function(t){localStorage.removeItem("ids")}),0===this.addr.length&&this.$alert("暂无收货地址,点击确认填写收货地址","提示信息",{confirmButtonText:"确定",callback:function(t){}}),setTimeout(function(){t.tjy.Post("foreuserproductorder/",{product_id_nums:t.list,addr:t.addr[t.addactive].address,receievename:t.addr[t.addactive].receiver_name,receievemobile:t.addr[t.addactive].receiver_mobile}).then(function(e){201===e.status&&(t.tjy.hasToken(1),t.$router.push("/order/".concat(e.data.order_no)))})},500)}},created:function(){this.init()},computed:{}}),c=n,r=(i("945a"),i("0fe9"),i("866e"),i("2877")),o=Object(r["a"])(c,s,a,!1,null,"9bfc69fe",null);e["default"]=o.exports},e233:function(t,e,i){}}]);